# Zenith Online Synthetic Data Generator - Output File Schemas

This document describes the schema of the files generated by the `data_generator.py` script for the Zenith Online Spark certification project.

---

## 1. Customer Profiles (CSV)

**File:** `customer_profiles.csv`
**Location:** `<RAW_BATCH_CUSTOMERS_PATH>/customer_profiles.csv`

| Column Name | Type   | Description                              |
| ----------- | ------ | ---------------------------------------- |
| customer_id | int    | Unique identifier for the customer       |
| signup_date | string | Date the customer signed up (YYYY-MM-DD) |
| location    | string | Customer's city/location                 |

---

## 2. Product Details (Parquet)

**File:** `product_details.parquet`
**Location:** `<RAW_BATCH_PRODUCTS_PATH>/product_details.parquet`

| Column Name  | Type   | Description                              |
| ------------ | ------ | ---------------------------------------- |
| product_id   | int    | Unique identifier for the product        |
| product_name | string | Name of the product                      |
| category     | string | Product category (e.g., Furniture, etc.) |
| price        | float  | Product price in USD                     |

---

## 3. User Events Stream (JSON)

**Files:** `events_<timestamp>.json`
**Location:** `<RAW_STREAMING_PATH>/events_*.json`
**Each file contains a list of event objects.**

| Field Name      | Type   | Description                                                |
| --------------- | ------ | ---------------------------------------------------------- |
| event_id        | string | Unique identifier for the event (UUID)                     |
| event_timestamp | string | Event timestamp in ISO 8601 format (UTC)                   |
| user_id         | int    | ID of the customer who performed the event                 |
| event_type      | string | Type of event:`view_product`, `add_to_cart`, or `purchase` |
| product_id      | int    | ID of the product involved in the event                    |
| session_id      | string | Unique identifier for the user's session (UUID)            |

---

**Notes:**

- All IDs (`customer_id`, `product_id`, `user_id`) are integers and are consistent across files for referential integrity.
- The event stream intentionally introduces data skew for certain `product_id`s in `view_product` events.
- The batch files are generated once, while the event stream files are generated
